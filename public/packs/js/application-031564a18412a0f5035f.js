(self.webpackChunkprsdigg=self.webpackChunkprsdigg||[]).push([[1034],{96019:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});n(96498);var r=n(11382),a=n(67294);function l(){return a.createElement("div",{style:{width:"100%",padding:"2rem",textAlign:"center"}},a.createElement(r.Z,null))}},15839:function(e,t,n){"use strict";n.d(t,{sE:function(){return a},Ti:function(){return l},it:function(){return o},ar:function(){return c},tO:function(){return f},yL:function(){return d}});var r="https://mixin-images.zeromesh.net/L0egX-GZxT0Yh-dd04WKeAqVNRzgzuj_Je_-yKf8aQTZo-xihd-LogbrIEr-WyG9WbJKGFvt2YYx-UIUa1qQMRla=s256",a="https://github.com/baizhiheizi/prsdigg",l="PRSDigg | \u91cd\u65b0\u53d1\u73b0\u8bfb\u8005\u7684\u4ef7\u503c\uff0c\u6253\u9020\u4f5c\u8005\u4e0e\u8bfb\u8005\u5171\u8d62\u7684\u5199\u4f5c\u5e73\u53f0",o="74c6a598-345b-46ca-891f-b15c3139557b",c="d9c39065-5021-454b-b2f5-bd95116e906d",i=(n(58481),n(48086)),u=n(20640),m=n.n(u),s=n(44276),f=function(e,t,n){var a=location.origin+"/articles/"+e.uuid,l={action:a,app_id:n,description:"\u6765\u81ea "+e.author.name+" \u7684\u597d\u6587",icon_url:r,title:e.title.slice(0,36)};p(a,l,t)},d=function(e,t,n){var a=location.origin+"/tags/"+e.id,l={action:a,app_id:n,description:"\u5171\u6709 "+e.articlesCount+" \u7bc7\u597d\u6587",icon_url:r,title:"#"+e.name+" \u8bdd\u9898\u6587\u7ae0"};p(a,l,t)},p=function(e,t,n){n?location.replace("mixin://send?category=app_card&data="+encodeURIComponent((0,s.cv)(JSON.stringify(t)))):(m()(e),i.ZP.success("Copied"))}},49674:function(e,t,n){"use strict";var r=n(98196),a=n.n(r),l=(n(43586),n(97183)),o=(n(13062),n(71230)),c=(n(89032),n(15746)),i=(n(58481),n(48086)),u=(n(41539),n(88674),n(17727),n(78783),n(8628),n(97314),n(96290),n(77479),n(33948),n(46829)),m=n(57210),s=(n(32215),n(25171)),f=n(53630),d=n(67294),p=n(73727),g=n(96019),E=(n(88989),n(25084)),h=(n(67167),n(71577)),y=(n(1792),n(79166)),b=(n(10995),n(99210)),v=(n(75257),n(51890)),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},C=n(30076),A=function(e,t){return d.createElement(C.Z,Object.assign({},e,{ref:t,icon:x}))};A.displayName="GithubOutlined";var Z=d.forwardRef(A),w=n(24557),S=n(47438),I=n(42762),k=n(39387),D=n(64478),z=n(15839);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(i){c=!0,a=i}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(){var e=(0,m.xJ)().currentUser,t=(0,m.FS)().isMobile,n=U((0,d.useState)(!1),2),r=n[0],a=n[1],i=(0,D.$)(),u=i.t,s=i.i18n,f=U((0,k.IwS)(),1)[0];(0,d.useEffect)((function(){e&&(e.locale!==s.language&&f({variables:{input:{locale:s.language}}}),s.on("languageChanged",(function(e){f({variables:{input:{locale:e}}})})))}),[]);var g=function(t){return d.createElement(o.Z,{justify:"center",style:"horizontal"===t.mode?{flexWrap:"nowrap"}:{flexDirection:"column",textAlign:"center"}},d.createElement(c.Z,null,e&&"vertical"===t.mode?d.createElement("div",{style:{margin:15}},d.createElement("a",{href:"/dashboard"},d.createElement(v.C,{size:"large",src:e.avatarUrl},e.name[0]))):d.createElement("div",{style:{margin:"0 15px"}},d.createElement(p.rU,{to:"/",replace:!0},d.createElement(v.C,{size:"large",src:(0,m.hp)("logo.svg")})))),d.createElement(c.Z,{flex:1},d.createElement(b.Z,{theme:"light",mode:t.mode,selectable:!1},d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement(p.rU,{to:"/",replace:!0},u("read"))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},e?d.createElement("a",{href:"/dashboard/articles/new",target:"_blank"},u("write")):d.createElement("a",{href:"/login?return_to="+encodeURIComponent(location.href)},u("write"))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement(p.rU,{to:"/search",replace:!0},u("search"))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement(p.rU,{to:"/rules",replace:!0},u("rules"))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement(p.rU,{to:"/fair",replace:!0},u("fair"))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement(p.rU,{to:"/community",replace:!0},u("community"))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement("a",{href:z.sE,target:"_blank"},d.createElement(Z,null),u("open_source"))))),d.createElement(c.Z,null,d.createElement(b.Z,{theme:"light",mode:t.mode,selectable:!1},d.createElement(b.Z.SubMenu,{title:"horizontal"===t.mode?d.createElement(w.Z,null):s.language.includes("en")?"Language":s.language.includes("ja")?"\u8a00\u8a9e":"\u8bed\u8a00"},d.createElement(b.Z.Item,null,d.createElement("a",{onClick:function(){return s.changeLanguage("zh-CN")}},"\u4e2d\u6587")),d.createElement(b.Z.Item,null,d.createElement("a",{onClick:function(){return s.changeLanguage("en")}},"EN")),d.createElement(b.Z.Item,null,d.createElement("a",{onClick:function(){return s.changeLanguage("ja")}},"\u65e5\u672c\u8a9e"))))),e?d.createElement(c.Z,null,d.createElement(b.Z,{mode:t.mode,selectable:!1},d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement(y.Z,{dot:e.unreadNotificationsCount>0},d.createElement("a",{href:"/dashboard/notifications"},"horizontal"===t.mode?d.createElement(S.Z,null):u("notifications_manage")))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement("a",{href:"/dashboard",target:"_blank"},u("dashboard"))),d.createElement(b.Z.Item,{onClick:function(){return a(!1)}},d.createElement("a",{href:"/logout"},u("logout"))))):d.createElement(c.Z,null,d.createElement(h.Z,{type:"link",href:"/login"},u("login"))))};return d.createElement(d.Fragment,null,t.phone?d.createElement("div",null,d.createElement(E.Z,{bodyStyle:{padding:0},visible:r,closable:!1,onClose:function(){return a(!1)},placement:"right"},d.createElement(g,{mode:"vertical"})),d.createElement("div",{style:{position:"fixed",right:"0px",bottom:"100px",zIndex:11}},d.createElement(h.Z,{type:"primary",size:"large",onClick:function(){return a(!0)},icon:d.createElement(I.Z,null)}))):d.createElement(l.Z.Header,{style:{WebkitBoxShadow:"0 2px 8px #f0f1f2",background:"#fff",boxShadow:"0 2px 8px #f0f1f2",padding:0,zIndex:10}},d.createElement(g,{mode:"horizontal"})))}var T=n(5977),W=d.lazy((function(){return Promise.all([n.e(2416),n.e(2235),n.e(1925),n.e(1719),n.e(477),n.e(9057),n.e(8158),n.e(5077),n.e(6037),n.e(3013),n.e(6418),n.e(6082),n.e(2105),n.e(832)]).then(n.bind(n,26540))})),j=d.lazy((function(){return n.e(4613).then(n.bind(n,64613))})),_=d.lazy((function(){return Promise.all([n.e(2416),n.e(2235),n.e(1925),n.e(1719),n.e(5077),n.e(1786),n.e(5276)]).then(n.bind(n,36515))})),N=d.lazy((function(){return Promise.all([n.e(2416),n.e(2235),n.e(1925),n.e(1719),n.e(477),n.e(9057),n.e(6418),n.e(2430)]).then(n.bind(n,67582))})),F=d.lazy((function(){return Promise.all([n.e(3013),n.e(2123)]).then(n.bind(n,14103))})),O=d.lazy((function(){return n.e(3748).then(n.bind(n,83748))})),L=d.lazy((function(){return Promise.all([n.e(2416),n.e(2235),n.e(1925),n.e(1719),n.e(477),n.e(9057),n.e(6418),n.e(813),n.e(9539)]).then(n.bind(n,35132))})),M=d.lazy((function(){return Promise.all([n.e(2416),n.e(2235),n.e(1925),n.e(1719),n.e(477),n.e(9057),n.e(5077),n.e(4376),n.e(2956)]).then(n.bind(n,97617))})),B=d.lazy((function(){return Promise.all([n.e(2416),n.e(2235),n.e(1925),n.e(1719),n.e(477),n.e(9057),n.e(6418),n.e(7618)]).then(n.bind(n,47440))}));function H(){return d.createElement(d.Fragment,null,d.createElement(d.Suspense,{fallback:d.createElement(g.Z,null)},d.createElement(T.rs,null,d.createElement(T.AW,{path:"/",exact:!0},d.createElement(N,null)),d.createElement(T.AW,{path:"/articles/:uuid",exact:!0},d.createElement(W,null)),d.createElement(T.AW,{path:"/tags/:id",exact:!0},d.createElement(B,null)),d.createElement(T.AW,{path:"/users/:mixinId",exact:!0},d.createElement(M,null)),d.createElement(T.AW,{path:"/search",exact:!0},d.createElement(L,null)),d.createElement(T.AW,{path:"/rules",exact:!0},d.createElement(O,null)),d.createElement(T.AW,{path:"/fair",exact:!0},d.createElement(_,null)),d.createElement(T.AW,{path:"/community",exact:!0},d.createElement(j,null)),d.createElement(T.AW,null,d.createElement(F,null)))))}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(i){c=!0,a=i}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a().register({ApplicationApp:function(e){var t=e.csrfToken,n=e.prsdigg,r=G((0,d.useState)(e.currentUser),2),a=r[0],E=r[1];return(0,d.useEffect)((function(){(0,m.Gx)()}),[]),(0,d.useEffect)((function(){a&&s.Z.subscriptions.create("Noticed::NotificationChannel",{connected:function(){console.log("Action Cable Connected")},disconnected:function(){console.log("Action Cable disconnected")},received:function(e){i.ZP.info(e)}})}),[a]),d.createElement(d.Suspense,{fallback:d.createElement(g.Z,null)},d.createElement(u.ApolloProvider,{client:(0,m.l8)("/graphql",t)},d.createElement(m.S$.Provider,{value:n},d.createElement(m.YJ.Provider,{value:{mixinAppearance:m.HD.appearance,mixinCurrency:m.HD.currency,mixinAppversion:m.HD.appVersion,mixinConversationId:m.HD.conversationId,mixinEnv:m.HD.platform,mixinImmersive:m.HD.immersive,isMobile:(0,f.Z)()}},d.createElement(m.Ec.Provider,{value:{currentUser:a,setCurrentUser:E}},d.createElement(p.VK,null,d.createElement(l.Z,null,d.createElement(R,null),d.createElement(l.Z.Content,{className:"p-4 bg-white"},d.createElement(o.Z,{justify:"center"},d.createElement(c.Z,{flex:1,xs:24,sm:24,md:18,lg:16,xl:14,xxl:12},d.createElement(H,null)))))))))))}})},20640:function(e,t,n){"use strict";var r=n(11742),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,l,o,c,i,u,m=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),c=document.createRange(),i=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var l=a[t.format]||a.default;window.clipboardData.setData(l,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),c.selectNodeContents(u),i.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");m=!0}catch(s){n&&console.error("unable to copy using execCommand: ",s),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(s){n&&console.error("unable to copy using clipboardData: ",s),n&&console.error("falling back to prompt"),l=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(l,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(c):i.removeAllRanges()),u&&document.body.removeChild(u),o()}return m}},44276:function(e,t,n){"use strict";n.d(t,{cv:function(){return E}});const r="function"===typeof btoa,a="function"===typeof Buffer,l=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder?new TextEncoder:void 0),o=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],c=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(o),String.fromCharCode.bind(String)),i=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/[+\/]/g,(e=>"+"==e?"-":"_")).replace(/=+$/m,"")),u=e=>{let t,n,r,a,l="";const c=e.length%3;for(let i=0;i<e.length;){if((n=e.charCodeAt(i++))>255||(r=e.charCodeAt(i++))>255||(a=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,l+=o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}return c?l.slice(0,c-3)+"===".substring(c):l},m=r?e=>btoa(e):a?e=>Buffer.from(e,"binary").toString("base64"):u,s=a?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(c.apply(null,e.subarray(n,n+4096)));return m(t.join(""))},f=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,p=e=>e.replace(d,f),g=a?e=>Buffer.from(e,"utf8").toString("base64"):l?e=>s(l.encode(e)):e=>m(p(e)),E=(e,t=!1)=>t?i(g(e)):g(e)},11742:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}},function(e){"use strict";e.O(0,[9292,4510,1693,8574,4899],(function(){return t=49674,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=application-031564a18412a0f5035f.js.map